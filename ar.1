.\" -*- mode: troff; coding: utf-8 -*-
.\" Automatically generated by Pod::Man 5.0102 (Pod::Simple 3.45)
.\"
.\" Standard preamble:
.\" ========================================================================
.de Sp \" Vertical space (when we can't use .PP)
.if t .sp .5v
.if n .sp
..
.de Vb \" Begin verbatim text
.ft CW
.nf
.ne \\$1
..
.de Ve \" End verbatim text
.ft R
.fi
..
.\" \*(C` and \*(C' are quotes in nroff, nothing in troff, for use with C<>.
.ie n \{\
.    ds C` ""
.    ds C' ""
'br\}
.el\{\
.    ds C`
.    ds C'
'br\}
.\"
.\" Escape single quotes in literal strings from groff's Unicode transform.
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\"
.\" If the F register is >0, we'll generate index entries on stderr for
.\" titles (.TH), headers (.SH), subsections (.SS), items (.Ip), and index
.\" entries marked with X<> in POD.  Of course, you'll have to process the
.\" output yourself in some meaningful fashion.
.\"
.\" Avoid warning from groff about undefined register 'F'.
.de IX
..
.nr rF 0
.if \n(.g .if rF .nr rF 1
.if (\n(rF:(\n(.g==0)) \{\
.    if \nF \{\
.        de IX
.        tm Index:\\$1\t\\n%\t"\\$2"
..
.        if !\nF==2 \{\
.            nr % 0
.            nr F 2
.        \}
.    \}
.\}
.rr rF
.\" ========================================================================
.\"
.IX Title "AR 1"
.TH AR 1 2025-04-27 binutils-2.44.0 "GNU Development Tools"
.\" For nroff, turn off justification.  Always turn off hyphenation; it makes
.\" way too many mistakes in technical documents.
.if n .ad l
.nh

.SH NAME
ar \- create, modify, and extract from archives

.SH SYNOPSIS
.IX Header "SYNOPSIS"

ar [\fB\-X32_64\fR] [\fB\-\fR]\fIp\fR[\fImod\fR] [\fB\-\-plugin\fR \fIname\fR] [\fB\-\-target\fR \fIbfdname\fR] [\fB\-\-output\fR \fIdirname\fR] [\fB\-\-record\-libdeps\fR \fIlibdeps\fR] [\fB\-\-thin\fR] [\fIrelpos\fR] [\fIcount\fR] \fIarchive\fR [\fImember\fR...]

.SH DESCRIPTION
.IX Header "DESCRIPTION"

.IP \[bu] 3
The GNU \fBar\fR program creates, modifies, and extracts from
archives.
.IP \[bu]
An \fIarchive\fR is a single file holding a collection of
other files in a structure that makes it possible to retrieve
the original individual files (called \fImembers\fR of the archive).
.PP
-
.IP \[bu] 3
The original files' contents, mode (permissions), timestamp, owner, and
group are preserved in the archive, and can be restored on
extraction.
.PP
-
.IP \[bu] 3
GNU \fBar\fR can maintain archives whose members have names of any
length; however, depending on how \fBar\fR is configured on your
system, a limit on member-name length may be imposed for compatibility
with archive formats maintained with other tools.
.IP \[bu]
If it exists, the
limit is often 15 characters (typical of formats related to a.out) or 16
characters (typical of formats related to coff).
.PP
-
.IP \[bu] 3
\&\fBar\fR is considered a binary utility because archives of this sort
are most often used as \fIlibraries\fR holding commonly needed
subroutines.
.IP \[bu]
Since libraries often will depend on other libraries,
\&\fBar\fR can also record the dependencies of a library when the
\&\fB\-\-record\-libdeps\fR option is specified.
.PP
-
.IP \[bu] 3
\&\fBar\fR creates an index to the symbols defined in relocatable
object modules in the archive when you specify the modifier \fBs\fR.
.IP \[bu]
Once created, this index is updated in the archive whenever \fBar\fR
makes a change to its contents (save for the \fBq\fR update operation).
.IP \[bu]
An archive with such an index speeds up linking to the library, and
allows routines in the library to call each other without regard to
their placement in the archive.
.PP
-
.IP \[bu] 3
You may use \fBnm \-s\fR or \fBnm \-\-print\-armap\fR to list this index
table.
.IP \[bu]
If an archive lacks the table, another form of \fBar\fR called
\&\fBranlib\fR can be used to add just the table.
.PP
-
.IP \[bu] 3
GNU \fBar\fR can optionally create a \fIthin\fR archive,
which contains a symbol index and references to the original copies
of the member files of the archive.
.IP \[bu]
his is useful for building
libraries for use within a local build tree, where the relocatable
objects are expected to remain available, and copying the contents of
each object would only waste time and space.
.PP
-
.IP \[bu] 3
An archive can either be \fIthin\fR or it can be normal.
.IP \[bu]
It cannot
be both at the same time.
.IP \[bu]
Once an archive is created its format
cannot be changed without first deleting it and then creating a new
archive in its place.
.PP
-
.IP \[bu] 3
Thin archives are also \fIflattened\fR, so that adding one thin
archive to another thin archive does not nest it, as would happen with
a normal archive.
.IP \[bu]
Instead the elements of the first archive are added
individually to the second archive.
.PP
-
.IP \[bu] 3
The paths to the elements of the archive are stored relative to the
archive itself.
.PP
.IP \[bu] 3
GNU \fBar\fR is designed to be compatible with two different
facilities.
.IP \[bu]
You can control its activity using command-line options,
like the different varieties of \fBar\fR on Unix systems; or, if you
specify the single command-line option \fB\-M\fR, you can control it
with a script supplied via standard input, like the MRI "librarian"
program.

.SH OPTIONS
.IX Header "OPTIONS"

.IP \[bu] 3
GNU \fBar\fR allows you to mix the operation code \fIp\fR and modifier
flags \fImod\fR in any order, within the first command-line argument.
.PP
-
.IP \[bu] 3
If you wish, you may begin the first command-line argument with a
dash.
.PP
-
.IP \[bu] 3
The \fIp\fR keyletter specifies what operation to execute; it may be
any of the following, but you must specify only one of them:

.IP \fBr\fR 4
.IX Item "r"
.RS
.IP \[bu] 3
Insert the files \fImember\fR... into \fIarchive\fR (with
\&\fIreplacement\fR).
.IP \[bu]
This operation differs from \fBq\fR in that any
previously existing members are deleted if their names match those being
added.
.P
-
.IP \[bu] 3
If one of the files named in \fImember\fR... does not exist, \fBar\fR
displays an error message, and leaves undisturbed any existing members
of the archive matching that name.
.P
-
.IP \[bu] 3
By default, new members are added at the end of the file; but you may
use one of the modifiers \fBa\fR, \fBb\fR, or \fBi\fR to request
placement relative to some existing member.
.P
-
.IP \[bu] 3
The modifier \fBv\fR used with this operation elicits a line of
output for each file inserted, along with one of the letters \fBa\fR or
\&\fBr\fR to indicate whether the file was appended (no old member
deleted) or replaced.
.RE

.IP \fBs\fR 4
.IX Item "s"
.RS
.IP \[bu] 3
Add an index to the archive, or update it if it already exists.
.IP \[bu]
Note this command is an exception to the rule that there can only be one
command letter, as it is possible to use it as either a command or a
modifier.
.IP \[bu]
In either case it does the same thing.
.RE

.IP \fBt\fR 4
.IX Item "t"
.IP \[bu] 3
Display a \fItable\fR listing the contents of \fIarchive\fR, or those
of the files listed in \fImember\fR... that are present in the
archive.
.IP \[bu]
Normally only the member name is shown, but if the modifier
\&\fBO\fR is specified, then the corresponding offset of the member is also
displayed.
.IP \[bu]
Finally, in order to see the modes (permissions), timestamp,
owner, group, and size the \fBv\fR modifier should be included.
.P
-
.IP \[bu]
If you do not specify a \fImember\fR, all files in the archive
are listed.
.P
-
.IP \[bu]
If there is more than one file with the same name (say, \fBfie\fR) in
an archive (say \fBb.a\fR), \fBar t b.a fie\fR lists only the
first instance; to see them all, you must ask for a complete
listing\-\-\-in our example, \fBar t b.a\fR.
.RE

.PP
.IP \[bu] 3
A number of modifiers (\fImod\fR) may immediately follow the \fIp\fR
keyletter, to specify variations on an operation's behavior:

.IP \fBc\fR 4
.IX Item "c"
.RS
.IP \[bu] 3
\&\fICreate\fR the archive.
.IP \[bu]
The specified \fIarchive\fR is always
created if it did not exist, when you request an update.
.IP \[bu]
But a warning is
issued unless you specify in advance that you expect to create it, by
using this modifier.
.RE

.IP \fBD\fR 4
.IX Item "D"
.RS
.IP \[bu] 3
Operate in \fIdeterministic\fR mode.
.IP \[bu]
When adding files and the archive
index use zero for UIDs, GIDs, timestamps, and use consistent file modes
for all files.
.IP \[bu]
When this option is used, if \fBar\fR is used with
identical options and identical input files, multiple runs will create
identical output files regardless of the input files' owners, groups,
file modes, or modification times.
.P
-
.IP \[bu] 3
If \fIbinutils\fR was configured with
\&\fB\-\-enable\-deterministic\-archives\fR, then this mode is on by default.
.IP \[bu]
It can be disabled with the \fBU\fR modifier, below.
.RE

.IP \fBU\fR 4
.IX Item "U"
.IP \[bu] 3
Do \fInot\fR operate in \fIdeterministic\fR mode.
.IP \[bu]
This is the inverse
of the \fBD\fR modifier, above: added files and the archive index will
get their actual UID, GID, timestamp, and file mode values.
.P
-
.IP \[bu] 3
This is the default unless \fIbinutils\fR was configured with
\&\fB\-\-enable\-deterministic\-archives\fR.
.RE

.IP \fBv\fR 4
.IX Item "v"
.RS
.IP \[bu] 3
This modifier requests the \fIverbose\fR version of an operation.
.IP \[bu]
Many
operations display additional information, such as filenames processed,
when the modifier \fBv\fR is appended.
.RE

.SH "SEE ALSO"
.IX Header "SEE ALSO"
\&\fBnm\fR\|(1), \fBranlib\fR\|(1), and the Info entries for \fIbinutils\fR.

.SH COPYRIGHT
.IX Header "COPYRIGHT"
Copyright (c) 1991\-2025 Free Software Foundation, Inc.
.PP
Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.3
or any later version published by the Free Software Foundation;
with no Invariant Sections, with no Front-Cover Texts, and with no
Back-Cover Texts.  A copy of the license is included in the
section entitled "GNU Free Documentation License".
